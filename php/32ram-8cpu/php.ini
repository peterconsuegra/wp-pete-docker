;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Pete Panel â€“ PHP 8.3 production profile
; Host: Hetzner CCX33 (32GB / 8 vCPU)
; Workload: WordPress + WooCommerce checkout heavy
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

[PHP]
default_charset = "UTF-8"

; Plugins require this
memory_limit = 512M

max_execution_time = 120
max_input_time = 120
max_input_vars = 5000
post_max_size = 128M
upload_max_filesize = 128M
default_socket_timeout = 60

output_buffering = 4096
implicit_flush = Off
expose_php = Off
short_open_tag = Off
zend.enable_gc = On

; Disable runtime assertions in production
zend.assertions = -1

; Timezone
date.timezone = America/Bogota

; =======================
; Error handling (quiet prod)
; =======================
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
display_errors = Off
display_startup_errors = Off
log_errors = On

; =======================
; Filesystem performance
; =======================
realpath_cache_size = 16384K
realpath_cache_ttl  = 600

; =======================
; Opcache (critical for Woo)
; =======================
opcache.enable = 1
opcache.enable_cli = 0

; JIT is useless for WP/Woo
opcache.jit = 0
opcache.jit_buffer_size = 0

; Large, stable cache for many plugins/themes
opcache.memory_consumption      = 512
opcache.interned_strings_buffer = 64
opcache.max_accelerated_files   = 131072
opcache.max_wasted_percentage   = 5

; Immutable code in prod
opcache.use_cwd              = 1
opcache.validate_timestamps  = 0
opcache.revalidate_freq      = 0
opcache.save_comments        = 1
opcache.enable_file_override = 1
opcache.consistency_checks   = 0

; =======================
; Sessions (secure defaults)
; =======================
session.gc_probability = 1
session.gc_divisor     = 1000
session.gc_maxlifetime = 2880
session.use_strict_mode = 1
session.use_only_cookies = 1
session.cookie_httponly = 1
session.cookie_secure = 1

; =======================
; Security & misc
; =======================
cgi.fix_pathinfo = 0
disable_functions =

request_order = "GP"
variables_order = "GPCS"

; =======================
; MySQL
; =======================
mysql.allow_persistent = On
mysqli.allow_persistent = On
pdo_mysql.default_socket =
